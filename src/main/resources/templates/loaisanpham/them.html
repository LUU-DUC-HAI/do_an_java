<div class="ui container">
    <a class="ui button primary" href="/qdl/loaisanpham">
        <i class="icon arrow left"></i>Quay Lại Danh Sách
    </a>

    <div class="ui segments">
        <div class="ui segment">
            <h2 class="ui header">
                Form Loại Sản Phẩm
            </h2>
        </div>
        <form class="ui form large segment loai" method="post" th:action="@{/qdl/loaisanpham/them}" th:object="${dl}">

            <input type="hidden" th:field="*{id}" disabled />

            <div class="field">
                <label>Mã Loại (phải tồn tại trong hệ thống) </label>
                <input type="text" th:field="*{maLoai}" />
            </div>

            <div class="field">
                <label>Mã Sản Phẩm (phải tồn tại trong hệ thống)</label>
                <input type="text" th:field="*{maSanPham}" />
            </div>

            <br />
            <div style="overflow: auto;">
                
                <button type="submit" class="ui button primary" style="float: right">
                    <i class="icon save"></i>Lưu</button>
                <button type="reset" class="ui button" style="float: right;margin-right: 10px;">
                    <i class="icon undo"></i>Huỷ</button>
                <a class="ui button positive" href="/qdl/loaisanpham" style="float: right;">
                    <i class="icon arrow left"></i>Danh Sách
                </a>
            </div>

            <div class="ui error message"></div>

            <!-- </fieldset> -->

        </form>
    </div>
</div>

<script>
    // https://semantic-ui.com/behaviors/form.html
    // https://stackoverflow.com/questions/51999545/how-to-validate-decimal-fields-in-semantic-ui

    // Lập trình viên tự bổ sung một số quy tắc ràng buộc
    // dữ liệu vào cho thư viện lõi: JavaScript jQuery Semantic-UI
    $.fn.form.settings.rules.greaterThan = function (inputValue, validationValue) {
        return inputValue >= validationValue;
    };
    $.fn.form.settings.rules.lessThan = function (inputValue, validationValue) {
        return inputValue <= validationValue;
    }

    $(function () {

        $('.ui.form.loai')
            .form({
                fields: {
                    tựa_đề: {
                        identifier: 'tuaDe',
                        rules: [{
                            type: 'empty',
                            prompt: 'Bạn vui lòng nhập tựa đề'
                        }]
                    },
                    giá_tiền: {
                        identifier: 'giaTien',
                        rules: [{
                            type: 'empty',
                            prompt: 'Bạn vui lòng nhập giá tiền.'
                        }
                            , {
                            type: 'greaterThan[500000]',
                            prompt: 'Giá tiền phải trên năm trăm ngàn'
                        }
                            , {
                            type: 'lessThan[30000000]', // chưa chạy được đúng, vẫn báo sai prompt
                            prompt: 'Giá tiền phải dưới 30 triệu'
                        }
                        ]
                    }

                    // ,phone: {
                    //     identifier: 'phone',
                    //     rules: [{
                    //         type: 'regExp',
                    //         value: /^[0-9]{10}$/,
                    //         prompt: 'Số điện thoại phải có 10 chữ số'
                    //     }]
                    // }


                }
            });

    });
</script>